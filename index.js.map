{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function serverRequest(url) {\n    return fetch(url)\n        \n        .then(data => {\n            if (!data.ok) {\n            throw new Error(data.status)\n            }\n            return data.json();\n            \n    }) \n    \n}","export function renderMarkup(arr) {\n    return arr\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n            return `\n       <li class=\"gallery-item\">\n       <a href=\"${largeImageURL}\">\n        <img\n        class = \"gallery-image\"\n        src = \"${webformatURL}\"\n        data-source = \"${largeImageURL}\"\n        alt = \"${tags}\"\n        width= 360;\n        height= 200;\n        />\n        </a>\n        <div class=\"main-review-container\">\n         <div class=\"review-container\">\n         <h3 class=\"review-header\">Likes</h3>\n         <p class=\"review-text\">${likes}</p>\n         </div>\n         <div class=\"review-container\">\n         <h3 class=\"review-header\">Views</h3>\n         <p class=\"review-text\">${views}</p>\n         </div>\n         <div class=\"review-container\">\n         <h3 class=\"review-header\">Comments</h3>\n         <p class=\"review-text\">${comments}</p>\n         </div>\n         <div class=\"review-container\">\n         <h3 class=\"review-header\">Downloads</h3>\n         <p class=\"review-text\">${downloads}</p>\n         </div>\n          </div>\n        </li>\n        \n        `}).join(\"\");\n    \n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { serverRequest } from \"./js/pixabay-api\";\nimport { renderMarkup } from \"./js/render-functions\";\n\nconst BASE_URL = \"https://pixabay.com/api/\"\nconst MY_API_KEY = \"46875254-682524027d328dbaad660da8e\";\n\nconst loader = document.querySelector(\".loader\")\n\nconst form = document.querySelector(\".search-form\")\nform.addEventListener(\"submit\", onSubmit);\nfunction onSubmit(event) {\n    event.preventDefault();\n    const query = document.querySelector(\".search-input\").value.trim();\n    if (query === \"\") {\n        return;\n    }\n    loader.textContent = \"Loading images, please wait...\"\n    form.reset()\n    \n    const params = new URLSearchParams({\n    key: MY_API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation:\"horizontal\",\n    safesearch:\"true\"\n})\n\n    const list = document.querySelector(\".gallery-list\")\n    list.innerHTML = \"\";\n\nserverRequest(`${BASE_URL}?${params}`)\n    .then(data => {\n        if (data.hits.length===0) {\n                iziToast.warning({\n                title: 'Caution',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        }\n        list.insertAdjacentHTML(\"beforeend\", renderMarkup(data.hits))\n      const simpleLightBox = new SimpleLightbox(`.gallery a`, {\n  captionsData: 'alt',\n    captionDelay: 250,\n})\n    })\n    .catch(error => {\n        console.log(error);\n        \n    })\n    .finally(() => {\nloader.textContent = \"\"\n    })\n}\n\n\n  "],"names":["serverRequest","url","data","renderMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","BASE_URL","MY_API_KEY","loader","form","onSubmit","event","query","params","list","iziToast","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAAcC,EAAK,CAC/B,OAAO,MAAMA,CAAG,EAEX,KAAKC,GAAQ,CACV,GAAI,CAACA,EAAK,GACV,MAAM,IAAI,MAAMA,EAAK,MAAM,EAE3B,OAAOA,EAAK,MAExB,CAAK,CAEL,CCXO,SAASC,EAAaC,EAAK,CAC9B,OAAOA,EACF,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACxD;AAAA;AAAA,kBAEDL,CAAa;AAAA;AAAA;AAAA,iBAGdD,CAAY;AAAA,yBACJC,CAAa;AAAA,iBACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAQaC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,kCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,kCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAKjC,EAAE,KAAK,EAAE,CAEnB,CC5BA,MAAMC,EAAW,2BACXC,EAAa,qCAEbC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAQ,EACxC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMC,EAAQ,SAAS,cAAc,eAAe,EAAE,MAAM,OAC5D,GAAIA,IAAU,GACV,OAEJJ,EAAO,YAAc,iCACrBC,EAAK,MAAO,EAEZ,MAAMI,EAAS,IAAI,gBAAgB,CACnC,IAAKN,EACL,EAAGK,EACH,WAAY,QACZ,YAAY,aACZ,WAAW,MACf,CAAC,EAESE,EAAO,SAAS,cAAc,eAAe,EACnDA,EAAK,UAAY,GAErBpB,EAAc,GAAGY,CAAQ,IAAIO,CAAM,EAAE,EAChC,KAAKjB,GAAQ,CACNA,EAAK,KAAK,SAAS,GACfmB,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,0EACzB,CAAa,EAELD,EAAK,mBAAmB,YAAajB,EAAaD,EAAK,IAAI,CAAC,EACvC,IAAIoB,EAAe,aAAc,CAC5D,aAAc,MACZ,aAAc,GAClB,CAAC,CACD,CAAK,EACA,MAAMC,GAAS,CACZ,QAAQ,IAAIA,CAAK,CAEzB,CAAK,EACA,QAAQ,IAAM,CACnBT,EAAO,YAAc,EACrB,CAAK,CACL"}